{% extends "base.html" %}
<!-- base.html 파일(템플릿을 구성하는 파일)을 현재 html에 적용시켜주는 부분(아랫줄의 load static도 같이 있어야 됩니당)-->
{% load static %}

{% load socialaccount %}
{% providers_media_js %}


{% block title %}
<title>Index Page</title>
<style>
  body {
    width: 100%;
    height: 800px;
  }
</style>
{% endblock title %}


<!-- 지금 보고 있는 base.html 파일의 block contents 태그가 있는 지점에, 각각의 html 파일들의 block contents 태그 안에 있는 내용이 합쳐집니다 -->
{% block contents %}

{% if request.user.is_superuser %}
<!-- IF 관리자 계정(superuser로 로그인 검증) 로그인 된 상태일시 실행되는 부분 -->
<nav class="navbar navbar-expand-md navbar-light">
  <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item "><a class="nav-link" href="/admin" style="font-weight: bold; font-size: medium;">관리자 페이지</a>
      </li>
      <li class="nav-item "><a class="nav-link" href="/mypage"
          style="font-weight: bold; font-size: medium;">관리자 메뉴</a></li>
    </ul>
  </div>
  <div class="mx-auto order-0">
    <a class="navbar-brand mx-auto" href="http://127.0.0.1:8000/" style="font-weight: bold; font-size: larger; font-family: 'Castoro', serif;">DB
      HOTEL</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
  <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item "><a class="nav-link" href="/accounts/logout" style="font-size: small;">로그아웃</a></li>
    </ul>
  </div>
</nav>
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141601_lg_pc.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20141216152900_lg_pc.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20141216152904_lg_pc.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20160425154505_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141825_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141858_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<footer class="footer" style="position: absolute;">
  <div class="container">
    <br>
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-2" style="text-align: center; font-weight: bold; font-family: 'Castoro', serif;">DB<br>HOTEL</div>
      <div class="col-sm-3" style="font-weight: bold; font-size: small;">
        <p>서울DB호텔 T.02-1234-1234</p>
        <p>제주DB호텔 T.064-1234-1234</p>
      </div>
      <div class="col-sm-1" style="font-weight: bold; font-size: small; color: rgb(32, 31, 29);">
        <p>고객센터</p>
        <p>이용약관</p>
      </div>
      <div class="col-sm-2" style="font-weight: bold; font-size: small; color: rgb(32, 31, 29);">
        <p>이메일무단수집금지</p>
        <p>개인정보처리방침</p>
      </div>
      <div class="col-sm-3">
        <a class="btn btn-outline-dark btn-social mx-1" href="https://www.facebook.com/"><i
            class="fab fa-fw fa-facebook-f"></i></a>
        <a class="btn btn-outline-dark btn-social mx-1" href="https://www.instagram.com/"><i
            class="fab fa-fw fa-instagram"></i></a>
        <a class="btn btn-outline-dark btn-social mx-1"
          href="https://github.com/jaehoonkimm/DB_is_Free-Hotel_DB_System"><i class="fab fa-fw fa-git"></i></a>
      </div>
    </div>
  </div>
</footer>



{% else %}
<!-- IF 관리자 계정 로그인 안 되었으면 실행되는 부분 (ELSE) -->
{% if user.is_authenticated %}
<!-- IF 일반 유저 계정 로그인 되었으면 실행되는 부분 -->
<nav class="navbar navbar-expand-md navbar-light">
  <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item "><a class="nav-link" href="/reservation/"
          style="font-weight: bold; font-size: medium;">예약하기</a></li>
    </ul>
  </div>
  <div class="mx-auto order-0">
    <a class="navbar-brand mx-auto" href="http://127.0.0.1:8000/" style="font-weight: bold; font-size: larger; font-family: 'Castoro', serif;">DB
      HOTEL</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
  <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item "><a class="nav-link" href="/accounts/logout" style="font-size: small;">로그아웃</a></li>
    </ul>
  </div>
</nav>
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141601_lg_pc.jpg" height="610"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20141216152900_lg_pc.jpg" height="610"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20141216152904_lg_pc.jpg" height="610"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20160425154505_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141825_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141858_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
{% now "Y-m-d" as todays_date %}
{% csrf_token %}
<div>
  <p style="font-weight: bolder; font-size: large;"><br>예약 가능한 날짜를 확인하세요</p>
  <div class="row">
    <!-- 캘린더형 div 구현 + 날짜 보여주는 텍스트 부분 -->
    {% for days in reserv_day %}
    <div class="col col-sm-2"
      style=" height: 200px; border:1px solid rgb(90, 83, 74); background-color: rgba(219, 204, 184, 0.562); 
      font-size: 30px; font-weight: bolder;">
      {% if days.day|date %}
      <a> {{ days.day|date:"Y-m-d" }} </a> <br />
      {% endif %}

      <!-- Grade별 남은 예약 가능한 자리를 보여주는 텍스트 부분 -->
      <div style="font-size: large;">
        {% for date in room_list %}
        {% if days.day == date.day_id %}
        {{ date.room_grade_id }} :
        {{ date.reservation_count }} <br />
        {% endif %}
        {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>
  <br>
</div>
<footer class="footer">
  <div class="container">
    <br>
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-2" style="text-align: center; font-weight: bold; font-family: 'Castoro', serif;">DB<br>HOTEL</div>
      <div class="col-sm-3" style="font-weight: bold; font-size: small;">
        <p>서울DB호텔 T.02-1234-1234</p>
        <p>제주DB호텔 T.064-1234-1234</p>
      </div>
      <div class="col-sm-1" style="font-weight: bold; font-size: small; color: rgb(32, 31, 29);">
        <p>고객센터</p>
        <p>이용약관</p>
      </div>
      <div class="col-sm-2" style="font-weight: bold; font-size: small; color: rgb(32, 31, 29);">
        <p>이메일무단수집금지</p>
        <p>개인정보처리방침</p>
      </div>
      <div class="col-sm-3">
        <a class="btn btn-outline-dark btn-social mx-1" href="https://www.facebook.com/"><i
            class="fab fa-fw fa-facebook-f"></i></a>
        <a class="btn btn-outline-dark btn-social mx-1" href="https://www.instagram.com/"><i
            class="fab fa-fw fa-instagram"></i></a>
        <a class="btn btn-outline-dark btn-social mx-1"
          href="https://github.com/jaehoonkimm/DB_is_Free-Hotel_DB_System"><i class="fab fa-fw fa-git"></i></a>
      </div>
    </div>
  </div>
</footer>

{% else %}
<!-- 일반 유저 계정으로도 로그인 안 되었으면(비로그인 상태) 실행되는 부분 -->
<nav class="navbar navbar-expand-md navbar-light">
  <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
    <ul class="navbar-nav mr-auto">
    </ul>
  </div>
  <div class="mx-auto order-0">
    <a class="navbar-brand mx-auto" href="http://127.0.0.1:8000/" style="font-weight: bold; font-size: larger; font-family: 'Castoro', serif;">DB
      HOTEL</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
  <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item "><a class="nav-link" href="/accounts/login/" style="font-size: small;">로그인</a></li>
      <li class="nav-item "><a class="nav-link" href="/accounts/signup/" style="font-size: small;">회원가입</a></li>
    </ul>
  </div>
</nav>
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141601_lg_pc.jpg" height="610"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20141216152900_lg_pc.jpg" height="610"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20141216152904_lg_pc.jpg" height="610"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20160425154505_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141825_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://hilton.co.kr/static/upload/hotel_main_20170703141858_lg_sp.jpg" height="610px"
        class="d-block w-100" alt="...">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<form method="POST" action="{% url 'login' %}">
  {% csrf_token %}

  <div class="container">
    <br>
    <div class="row">
      <div class="col-sm-2"></div>
      <div class="col-sm-3">
        <p style="display: inline; font-weight: bolder; font-size: smaller;">아이디 &nbsp;<input name="username"
            type="text" required></p>
      </div>
      <div class="col-sm-3">
        <p style="display: inline; font-weight: bolder; font-size: smaller;">비밀번호 &nbsp;<input name="password"
            type="password" required></p>
      </div>
      <div class="col-sm-2"><button type="submit" class="btn btn-dark btn-sm btn-block"
          style="margin:auto;">로그인</button></div>
      <div class="col-sm-2"></div>
    </div>
    <br>
  </div>
</form>
<footer class="footer" style="position: absolute;">
  <div class="container">
    <br>
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-2" style="text-align: center; font-weight: bold; font-family: 'Castoro', serif;">DB<br>HOTEL</div>
      <div class="col-sm-3" style="font-weight: bold; font-size: small;">
        <p>서울DB호텔 T.02-1234-1234</p>
        <p>제주DB호텔 T.064-1234-1234</p>
      </div>
      <div class="col-sm-1" style="font-weight: bold; font-size: small; color: rgb(32, 31, 29);">
        <p>고객센터</p>
        <p>이용약관</p>
      </div>
      <div class="col-sm-2" style="font-weight: bold; font-size: small; color: rgb(32, 31, 29);">
        <p>이메일무단수집금지</p>
        <p>개인정보처리방침</p>
      </div>
      <div class="col-sm-3">
        <a class="btn btn-outline-dark btn-social mx-1" href="https://www.facebook.com/"><i
            class="fab fa-fw fa-facebook-f"></i></a>
        <a class="btn btn-outline-dark btn-social mx-1" href="https://www.instagram.com/"><i
            class="fab fa-fw fa-instagram"></i></a>
        <a class="btn btn-outline-dark btn-social mx-1"
          href="https://github.com/jaehoonkimm/DB_is_Free-Hotel_DB_System"><i class="fab fa-fw fa-git"></i></a>
      </div>
    </div>
  </div>
</footer>
{% endif %}
{% endif %}


{% endblock contents %}